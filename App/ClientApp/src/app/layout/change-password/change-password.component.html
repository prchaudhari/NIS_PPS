
<div class="main-container">
  <div class="page-title">
    <span class="xs-title">Change Password</span>
  </div>
  <form autocomplete="on" [formGroup]="changePasswordForm" id="frmUpdatePassword" novalidate>
    <div class="card border-0 mb-2 card-shadow">
      <div class="card-body">
        <div class="row form-group">
          <div class="col-sm-4">
            <label for="inputOldPassword" id="lblOldPassword">Old Password</label>
            <div class="input-group">
              <input [type]="hide ? 'password' : 'text'" formControlName="oldPassword" class="form-control" aria-describedby="basic-addon2" id="inputOldPassword">
              <div class="input-group-append">
                <button (click)="showPassword()" class="btn input-group-text fa fa-eye" type="button"></button>
              </div>
            </div>
            <div class="validation-msg" style="color:red">
              <ng-container *ngFor="let error of error_messages.oldPassword">
                <div class="text-danger" *ngIf="changePasswordForm.get('oldPassword').hasError(error.type) && (changePasswordForm.get('oldPassword').dirty || changePasswordForm.get('oldPassword').touched)">
                  {{ error.message }}
                </div>
              </ng-container>
            </div>
          </div>
        </div>
        <div class="row form-group">
          <div class="col-sm-4">
            <label for="inputNewPassword" id="lblNewPassword">New Password</label>
            <div class="input-group">
              <input [type]="hideNewPwd ? 'password' : 'text'" formControlName="newPassword" class="form-control" aria-describedby="basic-addon2" id="inputNewPassword" minlength="8">
              <div class="input-group-append">
                <button (click)="hideNewPwd = !hideNewPwd" class="btn input-group-text fa fa-eye" type="button"></button>
              </div>
            </div>
            <div class="validation-msg" style="color:red">
              <ng-container *ngFor="let error of error_messages.newPassword">
                <div class="text-danger" *ngIf="changePasswordForm.get('newPassword').hasError(error.type) && (changePasswordForm.get('newPassword').dirty || changePasswordForm.get('newPassword').touched)">
                  {{ error.message }}
                </div>
              </ng-container>
              <div class="text-danger" *ngIf="changePasswordForm.errors != null && changePasswordForm.errors.oldPwdErr != null">
                Current Password and New Password must not be same.
              </div>
            </div>
          </div>

        </div>
        <div class="row form-group">
          <div class="col-sm-4">
            <label for="inputConfirmPassword" id="lblConfirmPassword">Confirm New Password</label>
            <div class="input-group">
              <input [type]="hideConfirmPwd ? 'password' : 'text'" formControlName="confirmpassword" class="form-control" aria-describedby="basic-addon2" id="inputConfirmPassword">
              <div class="input-group-append">
                <button (click)="hideConfirmPwd = !hideConfirmPwd" class="btn input-group-text fa fa-eye" type="button"></button>
              </div>
            </div>
            <div class="validation-msg" style="color:red">
              <ng-container *ngFor="let error of error_messages.confirmpassword">
                <div class="text-danger" *ngIf="changePasswordForm.get('confirmpassword').hasError(error.type) && (changePasswordForm.get('confirmpassword').dirty || changePasswordForm.get('confirmpassword').touched)">
                  {{ error.message }}
                </div>
              </ng-container>
              <div class="text-danger" *ngIf="changePasswordForm.errors != null && changePasswordForm.errors.confirmPwdErr != null">
                New Password and Confirm Password must be match.
              </div>
            </div>
          </div>

        </div>
        <div class="card border-0 mt-4 mb-3 bg-transparent">
          <div class="card-body p-0">
            <button class="btn-footer-fill mr-2" id="btnSave" [disabled]="!changePasswordForm.valid" (click)="Submit()">Update</button>
            <button class="btn-footer-outline" id="btnCancel" (click)="backClicked()">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>


